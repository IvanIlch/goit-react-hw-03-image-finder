{"version":3,"sources":["components/button/Button.module.css","components/loader/Loader.module.css","components/searchbar/Searchbar.js","components/startLayout/StartLayout.js","components/imageGallery/ImageGallery.js","components/imageGalleryItem/ImageGalleryItem.js","components/button/Button.js","components/modal/Modal.js","components/loader/Loader.js","utils/imageApi.js","components/App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleInput","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","this","className","type","placeholder","onChange","Component","StartLayout","ImageGallery","children","ImageGalleryItem","img","alt","large","onHandleModal","onClick","src","data-url","Button","styles","btn","Modal","onHandleClick","Spiner","loader","color","height","width","fetchWithQuery","page","axios","get","process","then","response","data","hits","App","images","spiner","error","searchQuery","largeImageURL","fetchArticles","prevState","handleScroll","catch","finally","submit","handleModal","url","dataset","handleKeyEsc","code","handleClick","nodeName","window","scrollTo","top","document","documentElement","scrollHeight","behavior","prevProps","addEventListener","removeEventListener","length","map","image","webformatURL","tag","id","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.76285046.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__1jSbK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__10cyX\"};","import React, { Component } from \"react\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleInput = (e) => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            value={query}\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleInput}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function StartLayout() {\r\n  return <h1>Welcome, enter your first request!</h1>;\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function ImageGallery({ children }) {\r\n  return <ul className=\"ImageGallery\">{children}</ul>;\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function ImageGalleryItem({ img, alt, large, onHandleModal }) {\r\n  return (\r\n    <li className=\"ImageGalleryItem\" onClick={onHandleModal}>\r\n      <img\r\n        src={img}\r\n        alt={alt}\r\n        data-url={large}\r\n        className=\"ImageGalleryItem-image\"\r\n      />\r\n    </li>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button className={styles.btn} type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Modal({ onHandleClick, img }) {\r\n  return (\r\n    <div className=\"Overlay\" onClick={onHandleClick}>\r\n      <div className=\"Modal\">\r\n        <img src={img} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Loader.module.css\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default class Spiner extends Component {\r\n  render() {\r\n    return (\r\n      <div className={styles.loader}>\r\n        <Loader type=\"Circles\" color=\"#00BFFF\" height={150} width={150} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst key = process.env.REACT_APP_KEY;\r\nconst url = process.env.REACT_APP_URL;\r\n\r\nconst fetchWithQuery = (query, page) => {\r\n  return axios\r\n    .get(\r\n      `${url}?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default fetchWithQuery;\r\n","import React, { Component } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nimport Searchbar from \"./searchbar/Searchbar\";\r\nimport StartLayout from \"./startLayout/StartLayout\";\r\nimport ImageGallery from \"./imageGallery/ImageGallery\";\r\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\r\nimport Button from \"./button/Button\";\r\nimport Modal from \"./modal/Modal\";\r\nimport Spiner from \"./loader/Loader\";\r\n\r\nimport fetchWithQuery from \"../utils/imageApi\";\r\n\r\nexport default class App extends Component {\r\n  // static propTypes = {\r\n  //   state: {\r\n  //     images: PropTypes.array,\r\n  //     spiner: PropTypes.bool.isRequired,\r\n  //     error: PropTypes.string,\r\n  //     searchQuery: PropTypes.string,\r\n  //     page: PropTypes.number.isRequired,\r\n  //     largeImageURL: bool.isRequired,\r\n  //   },\r\n  // };\r\n  state = {\r\n    images: [],\r\n    spiner: false,\r\n    error: \"\",\r\n    searchQuery: \"\",\r\n    page: 1,\r\n    largeImageURL: null,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { searchQuery, largeImageURL } = this.state;\r\n    if (prevState.searchQuery !== searchQuery) {\r\n      this.fetchArticles();\r\n    }\r\n    if (largeImageURL) {\r\n      window.addEventListener(\"keydown\", this.handleKeyEsc);\r\n    }\r\n    if (!largeImageURL) {\r\n      window.removeEventListener(\"keydown\", this.handleKeyEsc);\r\n    }\r\n  }\r\n\r\n  fetchArticles = () => {\r\n    const { searchQuery, page } = this.state;\r\n    this.setState({ spiner: true });\r\n    fetchWithQuery(searchQuery, page)\r\n      .then((response) => {\r\n        this.setState((prevState) => {\r\n          return {\r\n            images: [...prevState.images, ...response],\r\n            page: prevState.page + 1,\r\n            spiner: false,\r\n          };\r\n        });\r\n        if (this.state.page > 2) {\r\n          this.handleScroll();\r\n        }\r\n      })\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ spiner: false }));\r\n  };\r\n\r\n  submit = (query) => {\r\n    this.setState({\r\n      searchQuery: query,\r\n      images: [],\r\n      page: 1,\r\n    });\r\n  };\r\n  handleModal = (url) => {\r\n    this.setState({ largeImageURL: url.target.dataset.url });\r\n  };\r\n  handleKeyEsc = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.setState({ largeImageURL: null });\r\n    }\r\n  };\r\n  handleClick = (e) => {\r\n    if (e.target.nodeName !== \"IMG\") {\r\n      this.setState({\r\n        largeImageURL: null,\r\n      });\r\n    }\r\n  };\r\n  handleScroll = (e) => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { images, spiner, largeImageURL } = this.state;\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.submit} />\r\n        {images.length === 0 && <StartLayout />}\r\n        {images.length > 0 && (\r\n          <ImageGallery>\r\n            {images.map((image) => (\r\n              <ImageGalleryItem\r\n                key={image.id}\r\n                img={image.webformatURL}\r\n                alt={image.tag}\r\n                large={image.largeImageURL}\r\n                onHandleModal={this.handleModal}\r\n              />\r\n            ))}\r\n          </ImageGallery>\r\n        )}\r\n        {spiner && <Spiner />}\r\n        {images.length > 0 && !spiner && (\r\n          <Button onClick={this.fetchArticles} />\r\n        )}\r\n        {largeImageURL && (\r\n          <Modal img={largeImageURL} onHandleClick={this.handleClick} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}